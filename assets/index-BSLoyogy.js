import{A as f,u as x,B as g,x as v,a as k,i as y,C as B,o as D,c as S,b as s,t as l,f as i,q as u,v as c,m}from"./index-CxZDMWiB.js";const T={login:async(p,n)=>{const{data:a,status:e}=await f.get("/mock/login");return{data:a,code:e}}},U={class:"text-center border-solid border-[1px] w-[350px] h-72 rounded-md mx-auto mb-6"},V={class:"mt-5 mb-3 pt-5 font-bold"},A=s("label",{for:"username",class:"mr-3"},null,-1),G=["placeholder"],M=s("br",null,null,-1),$=s("label",{for:"password",class:"mr-3"},null,-1),q=["placeholder"],C=s("br",null,null,-1),E=["disabled"],I={__name:"index",setup(p){const{t:n}=x(),a=g(),e=v({username:"",password:""}),b=k(),d=()=>{b.push("/")},_=y(a.token),w=async r=>{r.preventDefault(),console.log(e.username,e.password);try{const{code:o,data:t}=await T.login(e.username,e.password);if(o===200){const{token:h}=t.data;a.setToken(h),m.success("登入成功"),d()}}catch{m.error("使用者名稱或密碼失敗")}};return B(()=>{_.value&&d()}),(r,o)=>(D(),S("div",U,[s("h2",V,l(i(n)("member_login")),1),s("form",{onSubmit:w,class:"m-5 p-5",action:""},[A,u(s("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>e.username=t),placeholder:r.$t("input_email"),class:"focus:outline-0 mb-3 w-52 border-2 border-solid rounded py-1 pl-1 text-black",id:"username"},null,8,G),[[c,e.username,void 0,{trim:!0}]]),M,$,u(s("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=t=>e.password=t),placeholder:r.$t("input_password"),class:"focus:outline-0 mb-3 w-52 border-2 border-solid rounded px-2 py-1 text-black",id:"password"},null,8,q),[[c,e.password,void 0,{trim:!0}]]),C,s("button",{class:"mt-3 mx-2 p-1 w-12 rounded bg-black text-white hover:bg-modalGray hover:!text-white border-none disabled:bg-modalGray disabled:text-white",type:"submit",disabled:!e.username||!e.password},l(i(n)("login")),9,E)],32)]))}};export{I as default};
