import{u as D,a as $,n as z,g as F,i as S,p as k,x as B,r as P,o as d,c as r,b as e,t as s,f as n,F as m,j as p,q as c,v,E as T,e as b,d as g,w,m as E,l as y,s as R}from"./index-CxZDMWiB.js";const j={class:"container mx-auto"},G={class:"fw-bold text-center font-bold text-2xl my-5"},I={class:"font-bold ml-10"},L=["src"],A={key:0,class:"my-auto ml-2 font-bold"},H={class:"flex pl-1 my-auto"},J={key:0,class:"w-[50px] h-[30px] text-center",type:"text"},K={key:1,class:"my-auto ml-5"},O=e("hr",null,null,-1),Q={class:"ml-10 my-3"},W={class:"font-bold"},X={for:"name",class:"text-sm"},Y={for:"phone",class:"text-sm"},Z={for:"email",class:"text-sm"},ee={for:"address",class:"text-sm"},te={for:"delivery",class:"text-sm"},le=["value"],se={for:"invoice",class:"text-sm"},oe=["value"],ae=e("hr",null,null,-1),ne={class:"ml-10 my-3"},de={class:"font-bold"},re={class:"ml-3 mt-2 text-sm text-red-400"},ie={class:"text-right mr-3"},ce=e("hr",null,null,-1),ue={class:"text-2xl"},_e={__name:"index",setup(me){const{t:o}=D(),M=$();z();const V=i=>{M.push(i)},_=F(),u=S(_.cart),h=k(()=>{let i=0;for(const a of _.cart)i+=a.quantity*a.prize;return i}),x=k(()=>h.value<1200?60:0),N=["超商配送","郵局配送","宅配到府"],C=["二聯式發票(個人)","三聯式發票(公司行號)","捐贈發票"],U=["信用卡","金融卡"],l=B({name:"",phone:"",email:"",address:"",deliverMethod:"",invoiceType:"",payment:"信用卡"}),q=()=>{_.setFormData({name:l.name,phone:l.phone,email:l.email,address:l.address,deliverMethod:l.deliverMethod,invoiceType:l.invoiceType,payment:l.payment}),V("/result"),E.success("您已成功下單")};return(i,a)=>{const f=P("a-button");return d(),r("div",j,[e("h1",G,s(n(o)("checkout")),1),e("h1",I,s(n(o)("order_product")),1),(d(!0),r(m,null,p(u.value,t=>(d(),r("div",{key:t.title,class:"flex h-[150px] ml-10"},[e("img",{class:"w-[70px] h-[100px] mx-5 my-auto",src:t.cover,alt:""},null,8,L),u.value.id===i.title?(d(),r("p",A,s(t.title),1)):y("",!0),e("div",H,[u.value.id===i.quantity?(d(),r("div",J,"x "+s(t.quantity),1)):y("",!0)]),u.value.id===i.total?(d(),r("p",K,"NT$"+s(t.prize*t.quantity),1)):y("",!0)]))),128)),O,e("div",Q,[e("h1",W,s(n(o)("write_info")),1),e("form",null,[e("div",null,[e("label",X,s(n(o)("name")),1),c(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>l.name=t),id:"name",type:"text",class:"ml-2 pl-2 mt-2 focus:outline-0 border border-black rounded text-black"},null,512),[[v,l.name]])]),e("div",null,[e("label",Y,s(n(o)("cellphone")),1),c(e("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>l.phone=t),id:"phone",type:"text",class:"ml-2 pl-2 mt-2 focus:outline-0 border border-black rounded text-black"},null,512),[[v,l.phone]])]),e("div",null,[e("label",Z,s(n(o)("email")),1),c(e("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>l.email=t),id:"email",type:"text",class:"ml-2 pl-2 mt-2 focus:outline-0 border border-black rounded text-black"},null,512),[[v,l.email]])]),e("div",null,[e("label",ee,s(n(o)("address")),1),c(e("input",{"onUpdate:modelValue":a[3]||(a[3]=t=>l.address=t),id:"address",type:"text",class:"ml-2 pl-2 mt-2 focus:outline-0 border border-black rounded text-black"},null,512),[[v,l.address]])]),e("div",null,[e("label",te,s(n(o)("deliver_method")),1),c(e("select",{"onUpdate:modelValue":a[4]||(a[4]=t=>l.deliverMethod=t),id:"delivery",class:"mt-2 ml-2 border border-gray-500 text-black"},[(d(),r(m,null,p(N,t=>e("option",{key:t,value:t},s(t),9,le)),64))],512),[[T,l.deliverMethod]])]),e("div",null,[e("label",se,s(n(o)("invoice_type")),1),c(e("select",{"onUpdate:modelValue":a[5]||(a[5]=t=>l.invoiceType=t),id:"invoice",class:"mt-2 ml-2 border border-gray-500 text-black"},[(d(),r(m,null,p(C,t=>e("option",{key:t,value:t},s(t),9,oe)),64))],512),[[T,l.invoiceType]])])])]),ae,e("div",ne,[e("h1",de,s(n(o)("pay_method")),1),(d(),r(m,null,p(U,t=>g(f,{onClick:pe=>l.payment=t,key:t,class:R(["mr-2 last:mr-0",{"border-2 border-yellow-300 border-solid":t===l.payment}]),value:t},{default:w(()=>[b(s(t),1)]),_:2},1032,["onClick","class","value"])),64)),e("p",re,"* "+s(n(o)("warn")),1)]),e("div",ie,[ce,e("p",null,s(n(o)("product_total"))+": NT $"+s(h.value),1),e("p",null,s(n(o)("delivery_fee"))+": NT $ "+s(x.value),1),e("p",null,[b(s(n(o)("total"))+": ",1),e("span",ue," NT $"+s(h.value+=x.value),1)]),g(f,{onClick:q,class:"bg-black text-white my-3 disabled:bg-modalGray disabled:text-white",type:"submit",disabled:!l.name||!l.phone||!l.email||!l.address||!l.deliverMethod||!l.invoiceType||!l.payment},{default:w(()=>[b(s(n(o)("submit")),1)]),_:1},8,["disabled"])])])}}};export{_e as default};
